<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Panel - InstaTest</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <style>
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: #1f2937;
            color: white;
            text-align: center;
            border-radius: 6px;
            padding: 8px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        .tab-btn.active {
            border-color: #4F46E5;
            color: #4F46E5;
        }

        .animate-fade-in {
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .transition-all {
            transition: all 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div class="min-h-screen">
        <!-- Header -->
        <nav class="bg-white shadow">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between h-16">
                    <div class="flex">
                        <div class="flex-shrink-0 flex items-center">
                            <h1 class="text-xl font-bold">InstaTest Admin</h1>
                        </div>
                    </div>
                    <div class="flex items-center">
                        <span class="text-gray-500 mr-4">{{ current_admin.username }}</span>
                        <a href="/system-status" class="text-blue-600 hover:text-blue-800 mr-4">System Status</a>
                        <a href="/admin/logout" class="text-red-600 hover:text-red-800">Logout</a>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main content -->
        <div class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
            <!-- Tabs -->
            <div class="mb-6 bg-white shadow rounded-lg">
                <nav class="flex" aria-label="Tabs">
                    <button onclick="showTab('languages')" class="tab-btn flex-1 py-4 px-6 text-center font-medium text-sm border-b-2 transition-all hover:bg-gray-50">
                        <svg class="w-5 h-5 mb-1 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"></path>
                        </svg>
                        Languages & Translations
                    </button>
                    <button onclick="showTab('cookies')" class="tab-btn flex-1 py-4 px-6 text-center font-medium text-sm border-b-2 transition-all hover:bg-gray-50">
                        <svg class="w-5 h-5 mb-1 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        Cookies
                    </button>
                    <button onclick="showTab('admins')" class="tab-btn flex-1 py-4 px-6 text-center font-medium text-sm border-b-2 transition-all hover:bg-gray-50">
                        <svg class="w-5 h-5 mb-1 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path>
                        </svg>
                        Admins
                    </button>
                </nav>
            </div>

            <!-- Languages Tab -->
            <div id="languages" class="tab-content space-y-6 animate-fade-in">
                <div class="bg-white shadow rounded-lg p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-lg font-medium">Add New Language</h2>
                        <div class="tooltip">
                            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <span class="tooltiptext">Add a new language with its code (e.g., en, tr) and corresponding flag emoji</span>
                        </div>
                    </div>
                    <form id="addLanguageForm" class="space-y-4">
                        <div class="grid grid-cols-3 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Language Code</label>
                                <input type="text" name="code" placeholder="e.g., en" class="w-full border rounded p-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Language Name</label>
                                <input type="text" name="name" placeholder="e.g., English" class="w-full border rounded p-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Flag</label>
                                <div class="relative">
                                    <input type="text" id="flagSearch" placeholder="Search country..." class="w-full border rounded p-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 mb-1">
                                    <select name="flag" id="flagSelect" class="w-full border rounded p-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 h-32">
                                    </select>
                                </div>
                            </div>
                        </div>
                        <button type="submit" class="w-full bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition-all flex items-center justify-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                            </svg>
                            Add Language
                        </button>
                    </form>
                </div>

                <div class="bg-white shadow rounded-lg p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-lg font-medium">Manage Translations</h2>
                        <div class="tooltip">
                            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <span class="tooltiptext">Edit translations for each language. Use Load Default for template, Load Current for existing translations</span>
                        </div>
                    </div>
                    <div class="space-y-4">
                        <div class="flex items-center gap-4">
                            <select id="languageSelect" class="flex-1 border rounded p-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                                {% for lang in languages %}
                                <option value="{{ lang.code }}">{{ lang.name }} {{ lang.flag }}</option>
                                {% endfor %}
                            </select>
                            <div class="mb-4">
                                <h3 class="text-lg font-semibold mb-2">Load Default</h3>
                                <button onclick="loadDefaultTranslations()" class="bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700">Load Default</button>
                            </div>
                            <button onclick="loadCurrentTranslations()" class="bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition-all flex items-center">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path>
                                </svg>
                                Load Current
                            </button>
                        </div>
                        <div id="translationsEditor">
                            <textarea id="translationsJson" rows="15" class="w-full border rounded p-2 font-mono text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"></textarea>
                            <button onclick="updateTranslations()" class="mt-4 w-full bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-all flex items-center justify-center">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                Update Translations
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Cookies Tab -->
            <div id="cookies" class="tab-content space-y-6 animate-fade-in hidden">
                <div class="bg-white shadow rounded-lg p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-lg font-medium">Add New Cookie</h2>
                        <div class="tooltip">
                            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <span class="tooltiptext">Add a new Instagram cookie with its ID and JSON data</span>
                        </div>
                    </div>
                    <form id="addCookieForm" class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Cookie ID</label>
                            <input type="text" name="id" placeholder="Enter cookie ID" class="w-full border rounded p-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Cookie Data (JSON)</label>
                            <textarea name="data" placeholder="Paste cookie JSON data" rows="5" class="w-full border rounded p-2 font-mono text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"></textarea>
                        </div>
                        <button type="submit" class="w-full bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition-all flex items-center justify-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                            </svg>
                            Add Cookie
                        </button>
                    </form>
                </div>

                <div class="bg-white shadow rounded-lg p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-lg font-medium">Active Cookies</h2>
                        <div class="tooltip">
                            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <span class="tooltiptext">List of all active Instagram cookies and their status</span>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 gap-4">
                        {% for cookie in cookies %}
                        <div class="border rounded-lg p-4 hover:shadow-md transition-all" data-cookie-id="{{ cookie.id }}">
                            <div class="flex justify-between items-center">
                                <div>
                                    <h3 class="font-medium text-lg">{{ cookie.id }}</h3>
                                    <p class="text-sm {{ 'text-red-500' if cookie.cooldown else 'text-green-500' }} flex items-center">
                                        <span class="w-2 h-2 rounded-full {{ 'bg-red-500' if cookie.cooldown else 'bg-green-500' }} mr-2"></span>
                                        {{ 'Cooling Down' if cookie.cooldown else 'Active' }}
                                    </p>
                                </div>
                                <button onclick="deleteCookie('{{ cookie.id }}')" class="text-red-600 hover:text-red-800 transition-all flex items-center">
                                    <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                                    </svg>
                                    Delete
                                </button>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>

            <!-- Admins Tab -->
            <div id="admins" class="tab-content space-y-6 animate-fade-in hidden">
                <div class="bg-white shadow rounded-lg p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-lg font-medium">Change Password</h2>
                        <div class="tooltip">
                            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <span class="tooltiptext">Change your admin account password</span>
                        </div>
                    </div>
                    <form id="changePasswordForm" class="space-y-4">
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Current Password</label>
                                <input type="password" name="current_password" class="w-full border rounded p-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">New Password</label>
                                <input type="password" name="new_password" class="w-full border rounded p-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" required>
                            </div>
                        </div>
                        <button type="submit" class="w-full bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition-all flex items-center justify-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"></path>
                            </svg>
                            Update Password
                        </button>
                    </form>
                </div>

                <div class="bg-white shadow rounded-lg p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-lg font-medium">Add New Admin</h2>
                        <div class="tooltip">
                            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <span class="tooltiptext">Create a new admin account with username and password</span>
                        </div>
                    </div>
                    <form id="addAdminForm" class="space-y-4">
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Username</label>
                                <input type="text" name="username" class="w-full border rounded p-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                                <input type="password" name="password" class="w-full border rounded p-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                            </div>
                        </div>
                        <button type="submit" class="w-full bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition-all flex items-center justify-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"></path>
                            </svg>
                            Add Admin
                        </button>
                    </form>
                </div>

                <div class="bg-white shadow rounded-lg p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-lg font-medium">Active Admins</h2>
                        <div class="tooltip">
                            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <span class="tooltiptext">List of all active admin accounts</span>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 gap-4">
                        {% for admin in admins %}
                        <div class="border rounded-lg p-4 hover:shadow-md transition-all">
                            <div class="flex justify-between items-center">
                                <div>
                                    <h3 class="font-medium text-lg">{{ admin.username }}</h3>
                                    <div class="space-y-1">
                                        <p class="text-sm text-gray-500 flex items-center">
                                            <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                            </svg>
                                            Created: {{ admin.created_at.strftime('%Y-%m-%d %H:%M:%S') }}
                                        </p>
                                        {% if admin.last_login %}
                                        <p class="text-sm text-gray-500 flex items-center">
                                            <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                            </svg>
                                            Last Login: {{ admin.last_login.strftime('%Y-%m-%d %H:%M:%S') }}
                                        </p>
                                        {% endif %}
                                    </div>
                                </div>
                                {% if admin.id != current_admin.id %}
                                <button onclick="deleteAdmin('{{ admin.id }}')" class="text-red-600 hover:text-red-800 transition-all flex items-center">
                                    <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                                    </svg>
                                    Delete
                                </button>
                                {% endif %}
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tab switching
        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.add('hidden'));
            document.getElementById(tabId).classList.remove('hidden');
            
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('border-blue-500', 'text-blue-600');
                btn.classList.add('border-transparent', 'text-gray-500');
            });
            event.currentTarget.classList.remove('border-transparent', 'text-gray-500');
            event.currentTarget.classList.add('border-blue-500', 'text-blue-600');

            // Cookie tab'Ä± seÃ§ildiÄŸinde listeyi gÃ¼ncelle
            if (tabId === 'cookies') {
                updateCookieList();
            }
        }

        // Load translations for selected language
        document.getElementById('languageSelect').addEventListener('change', async function() {
            await loadCurrentTranslations();
        });

        // Initialize translations object
        let translations = {};

        // Load default translations
        function loadDefaultTranslations() {
            const defaultTranslations = {
                // Main site translations
                'site_name': 'InstaTest',
                'title': 'Instagram Media Downloader',
                'subtitle': 'Download Instagram stories, reels, and posts easily',
                'description': 'A powerful tool to download Instagram content with high quality and complete anonymity.',
                'input_placeholder': 'Insert Instagram link here',
                'paste_button': 'Paste',
                'download_button': 'Download',
                'loading_text': 'Processing...',
                'success_text': 'Download completed!',
                'error_text': 'An error occurred',
                'features_title': 'Tool Features',
                'feature1_title': 'Multi-Format Support',
                'feature1_desc': 'Download stories, reels, posts, and IGTV videos',
                'feature2_title': 'High Quality',
                'feature2_desc': 'Get the highest quality available for your downloads',
                'feature3_title': 'Secure & Anonymous',
                'feature3_desc': 'No login required, completely anonymous downloads',
                'feature4_title': 'Fast Processing',
                'feature4_desc': 'Advanced caching and processing for instant downloads',
                'feature5_title': 'Batch Download',
                'feature5_desc': 'Download multiple stories and posts at once',
                'feature6_title': 'Preview Support',
                'feature6_desc': 'Preview content before downloading',
                'tool_section1_title': 'How It Works',
                'tool_section1_desc': 'Our tool uses advanced algorithms to fetch and process Instagram content while maintaining the highest quality.',
                'tool_section2_title': 'Usage Limits',
                'tool_section2_desc': 'To ensure fair usage, there are some rate limits in place. Please wait a few minutes between bulk downloads.',
                'tool_section3_title': 'Supported Content',
                'tool_section3_desc': 'Currently supports public Instagram stories, reels, posts, and IGTV videos.',
                'footer_about': 'About This Tool',
                'footer_about_text': 'An advanced Instagram media downloader tool that respects privacy and delivers high-quality content.',
                'footer_features': 'Features',
                'footer_api': 'API Access',
                'footer_docs': 'Documentation',
                'footer_status': 'System Status',
                'footer_links': 'Quick Links',
                'footer_privacy': 'Privacy Policy',
                'footer_terms': 'Terms of Service',
                'footer_contact': 'Contact',
                'footer_copyright': 'Â© 2024 InstaTest. All rights reserved.',
                'footer_disclaimer': 'This tool is not affiliated with Instagram.',
                'seo_title': 'What is Instagram Downloader?',
                'seo_content': 'Instagram Downloader is a powerful online tool designed to help users save and download content from Instagram...',

                // About page translations
                'about_title': 'About Us',
                'about_subtitle': 'Get to Know Us Better',
                'about_story_title': 'Our Story',
                'about_story_p1': 'Founded in 2024, InstaTest was born from the need to safely and easily download Instagram content.',
                'about_story_p2': 'We aim to provide a high-quality download experience while prioritizing user privacy and data security.',
                'about_story_p3': 'We continue to improve ourselves by serving more users every day.',
                'about_mission_title': 'Our Mission',
                'about_mission_text': 'To provide the ability to download Instagram content at the highest quality, securely and quickly.',
                'about_vision_title': 'Our Vision',
                'about_vision_text': 'To become the world\'s most trusted and preferred platform for social media content downloading.',
                'about_values_title': 'Our Values',
                'about_value1_title': 'User Focus',
                'about_value1_text': 'We always prioritize our users\' needs and privacy.',
                'about_value2_title': 'Continuous Improvement',
                'about_value2_text': 'We provide the best experience by continuously improving our services and technology.',
                'about_value3_title': 'Reliability',
                'about_value3_text': 'We earn our users\' trust by providing secure and uninterrupted service.',
                'about_stats_downloads': 'Downloads',
                'about_stats_users': 'Active Users',
                'about_stats_uptime': 'Uptime',

                // Contact page translations
                'contact_title': 'Contact',
                'contact_subtitle': 'Get in Touch with Us',
                'contact_form_title': 'Send a Message',
                'contact_name': 'Your Name',
                'contact_email': 'Your Email',
                'contact_subject': 'Subject',
                'contact_message': 'Your Message',
                'contact_send': 'Send',
                'contact_success': 'Your message has been sent successfully!',
                'contact_error': 'An error occurred while sending the message.',
                'contact_info_title': 'Contact Information',
                'contact_email_title': 'Email',
                'contact_phone_title': 'Phone',
                'contact_faq_title': 'Frequently Asked Questions',
                'contact_faq1_q': 'How can I download?',
                'contact_faq1_a': 'Just paste the Instagram link into the input field and click the Download button.',
                'contact_faq2_q': 'Is it paid?',
                'contact_faq2_a': 'No, our service is completely free.',
                'contact_faq3_q': 'Do I need an Instagram account?',
                'contact_faq3_a': 'No, you don\'t need an Instagram account to download.',
                'contact_faq4_q': 'Is it safe?',
                'contact_faq4_a': 'Yes, all operations are performed securely and anonymously.',

                // Privacy Policy translations
                'privacy_title': 'Privacy Policy',
                'privacy_subtitle': 'How we handle your data',
                'privacy_intro': 'At InstaTest, we take your privacy seriously. This policy explains how we collect, use, and protect your personal information.',
                'privacy_collection_title': 'Information We Collect',
                'privacy_collection_text': 'We only collect the information necessary to provide our service, such as the Instagram links you submit for downloading. We do not store any personal information or download history.',
                'privacy_usage_title': 'How We Use Your Information',
                'privacy_usage_text': 'The information you provide is used solely for processing your download requests. We do not share your information with third parties or use it for marketing purposes.',
                'privacy_cookies_title': 'Cookies and Tracking',
                'privacy_cookies_text': 'We use essential cookies to ensure the proper functioning of our service. These cookies do not track your activity across other websites.',
                'privacy_security_title': 'Data Security',
                'privacy_security_text': 'We implement industry-standard security measures to protect your information. All downloads are processed through secure connections.',
                'privacy_changes_title': 'Changes to This Policy',
                'privacy_changes_text': 'We may update this privacy policy from time to time. Any changes will be posted on this page with an updated revision date.'
            };

            document.getElementById('translationsJson').value = JSON.stringify(defaultTranslations, null, 2);
        }

        // Load current translations
        async function loadCurrentTranslations() {
            const langCode = document.getElementById('languageSelect').value;
            const response = await fetch(`/api/admin/translations/${langCode}`);
            const translations = await response.json();
            document.getElementById('translationsJson').value = JSON.stringify(translations, null, 2);
        }

        // Update translations
        async function updateTranslations() {
            const langCode = document.getElementById('languageSelect').value;
            const translations = JSON.parse(document.getElementById('translationsJson').value);
            
            const response = await fetch(`/api/admin/translations/${langCode}`, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({translations})
            });
            
            if (response.ok) {
                alert('Translations updated successfully');
            } else {
                alert('Failed to update translations');
            }
        }

        // Add language form
        document.getElementById('addLanguageForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            const formData = new FormData(this);
            const data = {
                code: formData.get('code'),
                name: formData.get('name'),
                flag: formData.get('flag')
            };
            
            const response = await fetch('/api/admin/languages', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(data)
            });
            
            if (response.ok) {
                alert('Language added successfully');
                location.reload();
            } else {
                alert('Failed to add language');
            }
        });

        // Cookie listesini gÃ¼ncelleyen fonksiyon
        async function updateCookieList() {
            try {
                const response = await fetch('/api/admin/cookies');
                const cookies = await response.json();
                
                const cookieContainer = document.querySelector('.grid.grid-cols-1.gap-4');
                cookieContainer.innerHTML = ''; // Mevcut listeyi temizle
                
                cookies.forEach(cookie => {
                    const cookieElement = document.createElement('div');
                    cookieElement.className = 'border rounded p-4';
                    cookieElement.setAttribute('data-cookie-id', cookie.id);
                    
                    cookieElement.innerHTML = `
                        <div class="flex justify-between items-center">
                            <div>
                                <h3 class="font-medium">${cookie.id}</h3>
                                <p class="text-sm ${cookie.cooldown ? 'text-red-500' : 'text-green-500'}">
                                    Status: ${cookie.cooldown ? 'Cooling Down' : 'Active'}
                                </p>
                            </div>
                            <button onclick="deleteCookie('${cookie.id}')" class="text-red-600 hover:text-red-800">Delete</button>
                        </div>
                    `;
                    
                    cookieContainer.appendChild(cookieElement);
                });
            } catch (error) {
                console.error('Failed to update cookie list:', error);
            }
        }

        // Delete cookie
        async function deleteCookie(cookieId) {
            if (!confirm('Are you sure you want to delete this cookie?')) return;
            
            try {
                const response = await fetch(`/api/admin/cookies/${cookieId}`, {
                    method: 'DELETE'
                });
                
                if (response.ok) {
                    // Cookie listesini gÃ¼ncelle
                    await updateCookieList();
                } else {
                    const error = await response.json();
                    alert(error.detail || 'Failed to delete cookie');
                }
            } catch (error) {
                alert('Failed to delete cookie');
            }
        }

        // Add cookie form
        document.getElementById('addCookieForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            const formData = new FormData(this);
            const data = {
                id: formData.get('id'),
                data: JSON.parse(formData.get('data'))
            };
            
            const response = await fetch('/api/admin/cookies', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(data)
            });
            
            if (response.ok) {
                alert('Cookie added successfully');
                this.reset();
                await updateCookieList(); // Listeyi gÃ¼ncelle
            } else {
                alert('Failed to add cookie');
            }
        });

        // Sayfa yÃ¼klendiÄŸinde cookie listesini gÃ¼ncelle
        document.addEventListener('DOMContentLoaded', function() {
            const cookiesTab = document.getElementById('cookies');
            if (!cookiesTab.classList.contains('hidden')) {
                updateCookieList();
            }
        });

        // Add admin form
        document.getElementById('addAdminForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            const formData = new FormData(this);
            const data = {
                username: formData.get('username'),
                password: formData.get('password')
            };
            
            const response = await fetch('/api/admin/admins', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(data)
            });
            
            if (response.ok) {
                alert('Admin added successfully');
                location.reload();
            } else {
                alert('Failed to add admin');
            }
        });

        // Delete admin
        async function deleteAdmin(adminId) {
            if (!confirm('Are you sure you want to delete this admin?')) return;
            
            const response = await fetch(`/api/admin/admins/${adminId}`, {
                method: 'DELETE'
            });
            
            if (response.ok) {
                alert('Admin deleted successfully');
                location.reload();
            } else {
                alert('Failed to delete admin');
            }
        }

        // Åžifre deÄŸiÅŸtirme formu
        document.getElementById('changePasswordForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            const formData = new FormData(this);
            const data = {
                current_password: formData.get('current_password'),
                new_password: formData.get('new_password')
            };
            
            try {
                const response = await fetch('/api/admin/password', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                
                if (response.ok) {
                    alert('Password updated successfully');
                    this.reset();
                } else {
                    alert(result.detail || 'Failed to update password');
                }
            } catch (error) {
                alert('Failed to update password');
            }
        });

        // Load initial translations
        document.getElementById('languageSelect').dispatchEvent(new Event('change'));

        // Flag search functionality
        const countryFlags = [
            {flag: 'ðŸ‡¦ðŸ‡«', name: 'Afghanistan'},
            {flag: 'ðŸ‡¦ðŸ‡±', name: 'Albania'},
            {flag: 'ðŸ‡©ðŸ‡¿', name: 'Algeria'},
            {flag: 'ðŸ‡¦ðŸ‡©', name: 'Andorra'},
            {flag: 'ðŸ‡¦ðŸ‡´', name: 'Angola'},
            {flag: 'ðŸ‡¦ðŸ‡º', name: 'Argentina'},
            {flag: 'ðŸ‡¦ðŸ‡²', name: 'Armenia'},
            {flag: 'ðŸ‡¦ðŸ‡º', name: 'Australia'},
            {flag: 'ðŸ‡¦ðŸ‡¹', name: 'Austria'},
            {flag: 'ðŸ‡¦ðŸ‡¿', name: 'Azerbaijan'},
            {flag: 'ðŸ‡§ðŸ‡¸', name: 'Bahamas'},
            {flag: 'ðŸ‡§ðŸ‡­', name: 'Bahrain'},
            {flag: 'ðŸ‡§ðŸ‡©', name: 'Bangladesh'},
            {flag: 'ðŸ‡§ðŸ‡¾', name: 'Belarus'},
            {flag: 'ðŸ‡§ðŸ‡ª', name: 'Belgium'},
            {flag: 'ðŸ‡§ðŸ‡¯', name: 'Benin'},
            {flag: 'ðŸ‡§ðŸ‡¹', name: 'Bhutan'},
            {flag: 'ðŸ‡§ðŸ‡´', name: 'Bolivia'},
            {flag: 'ðŸ‡§ðŸ‡¦', name: 'Bosnia and Herzegovina'},
            {flag: 'ðŸ‡§ðŸ‡·', name: 'Brazil'},
            {flag: 'ðŸ‡§ðŸ‡¬', name: 'Bulgaria'},
            {flag: 'ðŸ‡¨ðŸ‡¦', name: 'Canada'},
            {flag: 'ðŸ‡¨ðŸ‡±', name: 'Chile'},
            {flag: 'ðŸ‡¨ðŸ‡³', name: 'China'},
            {flag: 'ðŸ‡¨ðŸ‡´', name: 'Colombia'},
            {flag: 'ðŸ‡¨ðŸ‡·', name: 'Costa Rica'},
            {flag: 'ðŸ‡­ðŸ‡·', name: 'Croatia'},
            {flag: 'ðŸ‡¨ðŸ‡º', name: 'Cuba'},
            {flag: 'ðŸ‡¨ðŸ‡¾', name: 'Cyprus'},
            {flag: 'ðŸ‡¨ðŸ‡¿', name: 'Czech Republic'},
            {flag: 'ðŸ‡©ðŸ‡°', name: 'Denmark'},
            {flag: 'ðŸ‡ªðŸ‡¨', name: 'Ecuador'},
            {flag: 'ðŸ‡ªðŸ‡¬', name: 'Egypt'},
            {flag: 'ðŸ‡ªðŸ‡ª', name: 'Estonia'},
            {flag: 'ðŸ‡ªðŸ‡¹', name: 'Ethiopia'},
            {flag: 'ðŸ‡«ðŸ‡®', name: 'Finland'},
            {flag: 'ðŸ‡«ðŸ‡·', name: 'France'},
            {flag: 'ðŸ‡¬ðŸ‡ª', name: 'Georgia'},
            {flag: 'ðŸ‡©ðŸ‡ª', name: 'Germany'},
            {flag: 'ðŸ‡¬ðŸ‡­', name: 'Ghana'},
            {flag: 'ðŸ‡¬ðŸ‡·', name: 'Greece'},
            {flag: 'ðŸ‡­ðŸ‡º', name: 'Hungary'},
            {flag: 'ðŸ‡®ðŸ‡¸', name: 'Iceland'},
            {flag: 'ðŸ‡®ðŸ‡³', name: 'India'},
            {flag: 'ðŸ‡®ðŸ‡©', name: 'Indonesia'},
            {flag: 'ðŸ‡®ðŸ‡·', name: 'Iran'},
            {flag: 'ðŸ‡®ðŸ‡¶', name: 'Iraq'},
            {flag: 'ðŸ‡®ðŸ‡ª', name: 'Ireland'},
            {flag: 'ðŸ‡®ðŸ‡±', name: 'Israel'},
            {flag: 'ðŸ‡®ðŸ‡¹', name: 'Italy'},
            {flag: 'ðŸ‡¯ðŸ‡µ', name: 'Japan'},
            {flag: 'ðŸ‡¯ðŸ‡´', name: 'Jordan'},
            {flag: 'ðŸ‡°ðŸ‡¿', name: 'Kazakhstan'},
            {flag: 'ðŸ‡°ðŸ‡ª', name: 'Kenya'},
            {flag: 'ðŸ‡°ðŸ‡¼', name: 'Kuwait'},
            {flag: 'ðŸ‡±ðŸ‡§', name: 'Lebanon'},
            {flag: 'ðŸ‡±ðŸ‡¾', name: 'Libya'},
            {flag: 'ðŸ‡±ðŸ‡¹', name: 'Lithuania'},
            {flag: 'ðŸ‡±ðŸ‡º', name: 'Luxembourg'},
            {flag: 'ðŸ‡²ðŸ‡¾', name: 'Malaysia'},
            {flag: 'ðŸ‡²ðŸ‡¹', name: 'Malta'},
            {flag: 'ðŸ‡²ðŸ‡½', name: 'Mexico'},
            {flag: 'ðŸ‡²ðŸ‡³', name: 'Mongolia'},
            {flag: 'ðŸ‡²ðŸ‡¦', name: 'Morocco'},
            {flag: 'ðŸ‡³ðŸ‡µ', name: 'Nepal'},
            {flag: 'ðŸ‡³ðŸ‡±', name: 'Netherlands'},
            {flag: 'ðŸ‡³ðŸ‡¿', name: 'New Zealand'},
            {flag: 'ðŸ‡³ðŸ‡¬', name: 'Nigeria'},
            {flag: 'ðŸ‡°ðŸ‡µ', name: 'North Korea'},
            {flag: 'ðŸ‡³ðŸ‡´', name: 'Norway'},
            {flag: 'ðŸ‡´ðŸ‡²', name: 'Oman'},
            {flag: 'ðŸ‡µðŸ‡°', name: 'Pakistan'},
            {flag: 'ðŸ‡µðŸ‡¸', name: 'Palestine'},
            {flag: 'ðŸ‡µðŸ‡¦', name: 'Panama'},
            {flag: 'ðŸ‡µðŸ‡¾', name: 'Paraguay'},
            {flag: 'ðŸ‡µðŸ‡ª', name: 'Peru'},
            {flag: 'ðŸ‡µðŸ‡­', name: 'Philippines'},
            {flag: 'ðŸ‡µðŸ‡±', name: 'Poland'},
            {flag: 'ðŸ‡µðŸ‡¹', name: 'Portugal'},
            {flag: 'ðŸ‡¶ðŸ‡¦', name: 'Qatar'},
            {flag: 'ðŸ‡·ðŸ‡´', name: 'Romania'},
            {flag: 'ðŸ‡·ðŸ‡º', name: 'Russia'},
            {flag: 'ðŸ‡¸ðŸ‡¦', name: 'Saudi Arabia'},
            {flag: 'ðŸ‡·ðŸ‡¸', name: 'Serbia'},
            {flag: 'ðŸ‡¸ðŸ‡¬', name: 'Singapore'},
            {flag: 'ðŸ‡¸ðŸ‡°', name: 'Slovakia'},
            {flag: 'ðŸ‡¸ðŸ‡®', name: 'Slovenia'},
            {flag: 'ðŸ‡¿ðŸ‡¦', name: 'South Africa'},
            {flag: 'ðŸ‡°ðŸ‡·', name: 'South Korea'},
            {flag: 'ðŸ‡ªðŸ‡¸', name: 'Spain'},
            {flag: 'ðŸ‡±ðŸ‡°', name: 'Sri Lanka'},
            {flag: 'ðŸ‡¸ðŸ‡ª', name: 'Sweden'},
            {flag: 'ðŸ‡¨ðŸ‡­', name: 'Switzerland'},
            {flag: 'ðŸ‡¸ðŸ‡¾', name: 'Syria'},
            {flag: 'ðŸ‡¹ðŸ‡¼', name: 'Taiwan'},
            {flag: 'ðŸ‡¹ðŸ‡¯', name: 'Tajikistan'},
            {flag: 'ðŸ‡¹ðŸ‡­', name: 'Thailand'},
            {flag: 'ðŸ‡¹ðŸ‡³', name: 'Tunisia'},
            {flag: 'ðŸ‡¹ðŸ‡·', name: 'Turkey'},
            {flag: 'ðŸ‡¹ðŸ‡²', name: 'Turkmenistan'},
            {flag: 'ðŸ‡ºðŸ‡¦', name: 'Ukraine'},
            {flag: 'ðŸ‡¦ðŸ‡ª', name: 'United Arab Emirates'},
            {flag: 'ðŸ‡¬ðŸ‡§', name: 'United Kingdom'},
            {flag: 'ðŸ‡ºðŸ‡¸', name: 'United States'},
            {flag: 'ðŸ‡ºðŸ‡¾', name: 'Uruguay'},
            {flag: 'ðŸ‡ºðŸ‡¿', name: 'Uzbekistan'},
            {flag: 'ðŸ‡»ðŸ‡ª', name: 'Venezuela'},
            {flag: 'ðŸ‡»ðŸ‡³', name: 'Vietnam'},
            {flag: 'ðŸ‡¾ðŸ‡ª', name: 'Yemen'},
            {flag: 'ðŸ‡¿ðŸ‡¼', name: 'Zimbabwe'}
        ];

        // Initialize flag select
        function initializeFlagSelect() {
            const flagSelect = document.getElementById('flagSelect');
            flagSelect.innerHTML = ''; // Clear existing options
            
            countryFlags.forEach(country => {
                const option = document.createElement('option');
                option.value = country.flag;
                option.textContent = `${country.flag} ${country.name}`;
                flagSelect.appendChild(option);
            });
        }

        // Dynamic flag search
        document.getElementById('flagSearch').addEventListener('input', function(e) {
            const searchText = e.target.value.toLowerCase();
            const flagSelect = document.getElementById('flagSelect');
            flagSelect.innerHTML = ''; // Clear current options
            
            const filteredCountries = countryFlags.filter(country => 
                country.name.toLowerCase().includes(searchText)
            );
            
            filteredCountries.forEach(country => {
                const option = document.createElement('option');
                option.value = country.flag;
                option.textContent = `${country.flag} ${country.name}`;
                flagSelect.appendChild(option);
            });
        });

        // Initialize flags when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeFlagSelect();
        });
    </script>
</body>
</html> 